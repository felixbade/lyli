{% extends "base.html" %}
{% block content %}

<div style="text-align:center; margin-bottom: 1.85em;">
<!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->
<!-- Created with Inkscape (http://www.inkscape.org/) -->
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!-- Created with Inkscape (http://www.inkscape.org/) -->
<svg id="svg1901" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns="http://www.w3.org/2000/svg" height="120" width="132" version="1.1" xmlns:cc="http://creativecommons.org/ns#" xmlns:dc="http://purl.org/dc/elements/1.1/" role="img" aria-label="K&auml;sin piiretty LyLi-logo">
<title>LyLi-logo</title>
<metadata id="metadata1906">
  <rdf:RDF>
   <cc:Work rdf:about="">
    <dc:format>image/svg+xml</dc:format>
    <dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage"/>
    <dc:title/>
   </cc:Work>
  </rdf:RDF>
 </metadata>
 <g id="layer1" transform="translate(-521.21875,-191.20148)">
  <g id="g3888" fill="#333" transform="matrix(0.55528249,0,0,0.55699474,292.08292,30.84133)">
   <path id="path3774" d="m414.42,354.09c-0.58925-7.6603-1.1785-15.321-1.7678-22.981,1.3243-1.467,1.6612-4.3896,4.0316-4.3145,1.9704-0.74966,3.2826,1.5591,4.9334,2.2942,1.5116,7.77,1.9113,15.709,2.7144,23.573,0.65695,9.148,0.0137,18.3-0.44154,27.44,1.0426,4.4684,1.1548,9.0214,1.1083,13.589,0.21454,5.7358-0.3559,11.548,1.0947,17.163,0.36121,4.2943-0.44184,8.6545-0.18272,12.984,0.0443,5.9978,0.43085,12,0.57117,17.98,0.51424,2.9173,5.8872-1.3013,8.6775-0.94665,6.1485-1.4521,12.536-1.393,18.807-2.0124,5.7967-0.62875,11.604-0.51858,17.415-0.175,7.3169,0.485,14.636,0.32197,21.956,0.007,1.9094,0.79503,3.8422,1.5612,4.7982,3.5355-0.82208,3.03-3.7881,4.5219-5.8084,6.6923-15.543-0.42676-31.103-0.15199-46.643-0.0752-6.3937,1.3437-12.997,1.6268-19.294,3.364-1.6573,1.0639-3.4343,1.4995-5.377,1.065-1.9321,0.16601-3.5595-0.50883-4.9534-1.8285,0.47823-4.751,1.0121-9.5014,0.35177-14.264-0.68367-7.9484-1.04-15.909-0.94304-23.888,0.006-11.029-1.1617-22.033-0.6706-33.066,0.28109-8.7203-0.10271-17.421-0.37963-26.136z"/>
   <path id="path3776" d="m479.83,361.47c-2.8454,2.483-2.9859,6.5168-3.7552,9.9842-0.63166,5.2146-0.7882,10.544-0.57994,15.789,1.1009,6.6854,1.2077,13.843,4.4757,19.898,2.0887,2.5186,4.4224,5.0143,7.0582,6.8951,2.9942,1.3466,6.0063,2.6267,9.3398,2.7113,2.6898,0.31884,5.5938,0.43452,8.1889-0.28816,4.3345-1.6232,8.1998-4.3278,12.086-6.753,1.6493-2.1776,3.6646-4.0052,5.6863-5.8266-0.14557,11.415-0.17393,22.862,1.1968,34.211,0.3502,7.6616,1.1083,15.36,0.63366,23.02-0.19885,4.6053-1.7948,9.0018-3.1884,13.342-1.7784,3.6435-3.4355,7.3652-6.3119,10.301-2.7968,3.272-5.8597,6.3225-9.2052,9.0369-7.5522-0.13444-15.529,1.4816-22.557-2.0989-4.1272-1.5525-7.996-3.9032-12.138-5.3056-2.7042,0.004-6.2677-0.34434-7.5461,2.6544-0.87946,1.4162-0.10729,3.9538,0.94954,4.9848,6.139,0.60869,11.242,4.5043,16.831,6.6728,3.347,0.49738,6.585,1.3969,9.7282,2.6461,5.6434-0.70573,11.464-0.88446,16.954-2.2441,5.3252-3.7008,9.9269-8.3525,14.296-13.111,4.5066-6.3158,8.5631-13.167,10.139-20.852,2.3628-7.3154,1.1779-15.103,1.4684-22.655,0.26499-11.589-1.827-23.101-1.2762-34.697,0.12618-7.6169,0.0956-15.304,1.255-22.839,0.90741-3.6504,1.3005-7.3445,0.9749-11.1-0.2032-3.7582,0.0764-7.6756-0.4244-11.336-1.3088-1.8566-2.6739-4.703-5.3982-3.9156-1.9109,0.45412-3.9415,1.3122-3.9666,3.5635-1.1204,3.7504,0.003,7.7768-0.7632,11.623-0.64936,4.8373-0.18833,9.924-2.3765,14.416-1.1926,3.7307-3.4625,7.0357-5.4997,10.32-2.2703,1.9542-4.5406,3.9083-6.8108,5.8625-4.5757,2.0804-10.091,2.4346-14.706,0.77475-2.3766-2.0873-5.8634-3.2187-6.9211-6.4417-2.0842-3.2008-1.6012-7.2182-2.2811-10.847-0.45743-4.1334-1.1998-8.2641-0.33556-12.406-0.12547-4.2235,2.0825-8.4155,1.2584-12.542,0.0332-2.41-1.5692-3.2734-3.7295-3.6092-0.86559-0.249-1.8534,0.16215-2.7493,0.1609z"/>
   <path id="path3778" d="m554.46,306.83c-2.4123,0.38888-3.1883,2.454-4.0179,4.4643-0.89076,5.0826,1.0284,10.151,0.30561,15.272-0.15801,9.2021,0.4448,18.394,0.8067,27.581,0.71457,3.9977,1.5614,7.9711,1.2092,12.065-0.19643,3.3451,0.69495,6.6513,1.7537,9.724-0.10134,3.5997-1.4501,7.3502,0.38917,10.715-0.31336,3.7992-0.15539,7.5565,0.92388,11.232,2.3085,11.367,2.084,23.06,3.3696,34.562,1.002,10.176,1.0086,20.422,1.4208,30.634,1.5757,1.8106,3.4597,2.8157,5.8967,2.376,18.961,0.29596,37.914,1.4762,56.88,0.76146,2.3684-0.45754,4.6628-1.7814,5.6967-4.0814,2.0166-1.484,0.44079-4.4243-1.8033-4.4474-2.9513-1.5872-5.7934,0.91911-8.8167,0.37433-6.92,0.14887-13.818-0.37555-20.715-0.63868-7.0206,1.1998-14.145,0.18679-20.933-0.27622-7.441,3.3358-8.3515-6.3147-7.3812-11.28-0.1055-7.1483-0.44602-14.349-0.85262-21.459-2.1827-9.4078-2.4793-19.178-3.5766-28.775-1.633-10.333-0.56167-20.897-2.3615-31.215-0.49388-8.7293-0.87962-17.473-1.8022-26.162-0.40627-8.6073,0.36341-17.305,0.0649-25.859-0.77706-2.103-1.7328-4.0448-4.0045-4.7996-0.77285-0.52831-1.4754-0.97499-2.4523-0.76879z"/>
   <path id="path3780" d="m623.52,363.75c-0.91593,0.14749-2.0224-0.20307-2.818,0.25886-0.80526,0.83451-2.1598,1.3386-2.1461,2.6658-0.52224,2.0967-0.95486,4.2056-0.9358,6.3766,0.0404,2.8423-1.1852,5.5524-0.89772,8.4044,0.0335,2.3274,0.15625,4.6613-0.37925,6.9471-0.55035,2.81-0.0961,5.6988-0.15761,8.5384,0.45948,2.6844,0.93192,5.3598,0.92777,8.0917,0.33685,7.1899-0.25659,14.371-0.37653,21.559-0.089,2.6937,0.10336,5.3957-0.0146,8.0858,0.48642,2.5292,3.6389,3.9843,5.3498,1.6954,1.4869-1.2102,3.509-2.4636,3.8864-4.4439,0.34396-2.2096,1.0842-4.3934,0.73066-6.6484-0.0946-2.4829-0.46205-4.9721,0.0342-7.4365,0.14454-2.2374-0.92746-4.3851-0.86329-6.649-0.54018-5.4107-0.25164-10.854-0.31217-16.282,0.28814-5.1303,0.42914-10.275,0.72361-15.401,0.76603-2.7488,1.3025-5.5691,1.5808-8.3994-0.37076-2.2864-0.74152-4.5727-1.1123-6.8591-1.1094-0.63364-2.0915-1.1459-3.2199-0.50507l0.00007,0.00003z"/>
   <path id="path3831" style="enable-background:accumulate;color:#000000;" fill-rule="nonzero" d="m622.4,345.25c-3.9945-0.89041-8.2604-1.1464-11.777-3.4626-4.0324-1.9219-8.3497-3.9859-10.662-8.026-1.9589-3.0567-3.6395-6.315-5.4152-9.4581-1.0491-2.4446-2.2464-5.0347-1.1315-7.7044-0.48969-3.2625-0.06-6.3786,1.1624-9.4634,1.0342-3.6747,3.3145-6.8245,5.3367-10.012,2.3288-3.3897,5.5523-6.1523,9.1784-8.0408,4.5478-1.4832,9.5842-1.5364,14.222-0.40303,3.1435,0.82132,5.6881,3.021,8.8458,3.8399,2.4298,0.99951,5.3746,1.332,7.0441,3.5638,2.7864,2.6204,5.5628,5.2517,7.8262,8.3424,3.0055,2.3772,1.5365,6.2624,2.9082,9.3523,0.88952,3.27-0.18324,6.6802-0.62667,9.9557-0.73115,3.9694-2.7403,7.59-5.5915,10.422-1.6216,2.9322-4.0066,5.2368-7.0515,6.6405-3.2346,1.8624-6.6439,3.4367-10.202,4.574-1.3553-0.002-2.7258,0.14067-4.0674-0.12033zm6.3844-7.5151c3.2639-0.64905,5.6348-3.2093,7.981-5.3838,1.5699-2.1745,3.3648-4.3738,4.0969-7.0006,0.90133-3.4174,0.38064-6.8911-0.16234-10.322-0.13464-3.5644-0.98935-6.8266-4.2335-8.7321-1.8843-2.6402-5.0859-3.1139-8.1013-3.2882-3.5265,0.34012-4.2639-2.9392-5.3322-5.4908-2.2546-1.0351-4.9505-1.1024-7.43-1.4354-2.2164,0.1542-5.3518-0.90263-6.8286,1.0912-1.8809,2.1166-3.5692,4.422-4.3752,7.1776-1.9694,4.8502-2.8992,10.284-1.4319,15.404,1.0169,3.5242,1.8228,7.5124,4.8158,9.9166,2.5538,2.8356,5.3472,5.4206,8.9251,6.8924,3.032,1.4488,6.5089,1.9468,9.8451,1.7875,0.76811-0.0974,1.5239-0.30067,2.2312-0.61713z"/>
  </g>
 </g>
</svg>
</div>

{% if newurl %}
<div class="notification"><h2>Lyhentäminen onnistui!</h2>
    <a id="newurl" href="http://lyli.fi/{{newurl}}">http://lyli.fi/{{newurl}}</a><br>
    {#<input type="text" id="newurl" value="http://lyli.fi/{{newurl}}"><br>#}
    <span class="description">Lyhyt linkki vapautuu kun sitä ei ole käytetty kahteen viikkoon.</span>
</div>
{% endif %}

{% if nosuchname %}
<div class="notification"><h2>Linkkiä <span class="notfound">lyli.fi/{{nosuchname}}</span> ei ole olemassa.</h2>
    <span class="description">Se on saattanut joskus olla olemassa. Linkit vapautuvat, kun niitä ei ole käytetty kahteen viikkoon.</span>
</div>
{% elif nosuchsite %}
<div class="notification"><h2>Sivua <span class="notfound">lyli.fi{{nosuchsite}}</span> ei ole olemassa.</h2>
</div>
{% endif %}

<form method="post" action="/">
    <div>
        <input class="big" type="url" name="url" id="url" placeholder="Sijoita pitkä linkki tähän" value="{{url}}">
        {% if emptyurl %}
        <span class="error">Tässä ei ole mitään.</span>
        {% elif illegalscheme %}
        <span class="error">Voit lyhentää vain http- ja https-linkkejä.</span>
        {% elif illegalurl %}
        <span class="error">Linkissä on jotain outoa.</span>
        {% endif %}
    </div>
    <div>
        <input type="hidden" name="default_name" value="{{default_name}}">
        <span>lyli.fi/</span><input type="text" name="name" id="name" placeholder="{{default_name}}" value="{{name}}" autocapitalize="off"><br>
        {% if nameinuse %}
        <span class="error">lyli.fi/{{nameinuse}} on jo käytössä.</span>
        {% elif illegalname %}
        <span class="error">Päätteessä ei saa olla sanavälejä, pisteitä eikä kauttaviivoja.</span>
        {% else %}
        <span class="description">Lyhyt linkki, joka ohjaa samalle sivulle kuin pitkä linkki.</span>
        {% endif %}
    </div>
    <button type="submit">Lyhennä</button>
</form>
{% endblock %}
